{
  "comments": [
    {
      "key": {
        "uuid": "bb830ec2_c71dc5d8",
        "filename": "nfv_tempest_plugin/tests/scenario/test_nfv_dpdk_usecases.py",
        "patchSetId": 6
      },
      "lineNbr": 134,
      "author": {
        "id": 1008484
      },
      "writtenOn": "2019-01-01T06:31:47Z",
      "side": 1,
      "message": "This code is not needed.\nCurrently we have configuration file in tempest.conf.\n\nSo it could be configured there \n\ntransfer_files \u003d \u0027[{\"client_source\": \"/home/stack/tempest/nfv-tempest-plugin/nfv_tempest_plugin/tests/scenario/tests_scripts/custo\nm_net_config.py\", \"guest_destination\": \"/usr/local/bin/custom_net_config.py\"},{\"client_source\":\"/home/stack/tempest/nfv-tempest-plugin/nfv_tempest_plugin/tests/scenario/tests_scripts/multicast_traffic.py\":\"/tmp/multicast_traffic.py\"}]\n\u0027\n\nor enter as default param to ./nfv_tempest_plugin/config.py",
      "range": {
        "startLine": 131,
        "startChar": 45,
        "endLine": 134,
        "endChar": 68
      },
      "revId": "e06d8431696c18fca7fba0f1926084f77947b004",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "530dd2b2_12b24439",
        "filename": "nfv_tempest_plugin/tests/scenario/test_nfv_dpdk_usecases.py",
        "patchSetId": 6
      },
      "lineNbr": 134,
      "author": {
        "id": 1008672
      },
      "writtenOn": "2019-01-01T06:46:19Z",
      "side": 1,
      "message": "\u003e This code is not needed.\n\u003e Currently we have configuration file in tempest.conf.\n\u003e \n\u003e So it could be configured there \n\u003e \n\u003e transfer_files \u003d \u0027[{\"client_source\": \"/home/stack/tempest/nfv-tempest-plugin/nfv_tempest_plugin/tests/scenario/tests_scripts/custo\n\u003e m_net_config.py\", \"guest_destination\": \"/usr/local/bin/custom_net_config.py\"},{\"client_source\":\"/home/stack/tempest/nfv-tempest-plugin/nfv_tempest_plugin/tests/scenario/tests_scripts/multicast_traffic.py\":\"/tmp/multicast_traffic.py\"}]\n\u003e \u0027\n\u003e \n\u003e or enter as default param to ./nfv_tempest_plugin/config.py\n\n\nThe transfer_files default configuration within the config.py contains files that should be copied to any instance on boot.\n\nThe multicast_traffic.py script is used only for the multicast test and I don\u0027t see any reason to copy it to every instance on boot, so no reason to put it within the transfer_files default.\n\nFor that reason, I created the \"_add_copy_files_to_personality\" method that should be used for copying the files dedicated for the specific test using the personality and integrated it into the \"create_server_with_resources\" method.",
      "parentUuid": "bb830ec2_c71dc5d8",
      "range": {
        "startLine": 131,
        "startChar": 45,
        "endLine": 134,
        "endChar": 68
      },
      "revId": "e06d8431696c18fca7fba0f1926084f77947b004",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f65e460f_22c4f0af",
        "filename": "nfv_tempest_plugin/tests/scenario/test_nfv_dpdk_usecases.py",
        "patchSetId": 6
      },
      "lineNbr": 134,
      "author": {
        "id": 1008484
      },
      "writtenOn": "2019-01-06T13:18:14Z",
      "side": 1,
      "message": "It is extra copy, through scp, IMHO copy every thing in one shot even if test does not use it.\nLess ssh or copy is recommended,\n\n@Vadim? what\u0027s your take here?",
      "parentUuid": "530dd2b2_12b24439",
      "range": {
        "startLine": 131,
        "startChar": 45,
        "endLine": 134,
        "endChar": 68
      },
      "revId": "e06d8431696c18fca7fba0f1926084f77947b004",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9abb2147_33237f2c",
        "filename": "nfv_tempest_plugin/tests/scenario/test_nfv_dpdk_usecases.py",
        "patchSetId": 6
      },
      "lineNbr": 134,
      "author": {
        "id": 1008672
      },
      "writtenOn": "2019-01-06T13:23:33Z",
      "side": 1,
      "message": "\u003e It is extra copy, through scp, IMHO copy every thing in one shot even if test does not use it.\n\u003e Less ssh or copy is recommended,\n\u003e \n\u003e @Vadim? what\u0027s your take here?\n\n@Yariv,\n\nIt looks like you missed it.\nIt is not extra copy and for sure not a use of scp.\nI\u0027m appending the script using the personality to the kwargs during the server creation.\n\nAs a result, the script passed to the instance using the same mechanism as the custom_net_config.py with the same iteration during the server creation.\nThe only difference is that I\u0027m copying it only when needed and not during every test.",
      "parentUuid": "f65e460f_22c4f0af",
      "range": {
        "startLine": 131,
        "startChar": 45,
        "endLine": 134,
        "endChar": 68
      },
      "revId": "e06d8431696c18fca7fba0f1926084f77947b004",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "20982dc8_61ea1272",
        "filename": "nfv_tempest_plugin/tests/scenario/test_nfv_dpdk_usecases.py",
        "patchSetId": 6
      },
      "lineNbr": 134,
      "author": {
        "id": 1014336
      },
      "writtenOn": "2019-01-07T09:16:03Z",
      "side": 1,
      "message": "Correct me if I\u0027m wrong but:\n\nYariv wants the ability to dynamically append additional scripts that will be transferred to tests without having to modify the tests each time.\n\nI think it\u0027s a good approach to have in the future, not sure if it should be part of this patch.",
      "parentUuid": "9abb2147_33237f2c",
      "range": {
        "startLine": 131,
        "startChar": 45,
        "endLine": 134,
        "endChar": 68
      },
      "revId": "e06d8431696c18fca7fba0f1926084f77947b004",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    }
  ]
}