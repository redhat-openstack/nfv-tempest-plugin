{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "4cdbf16d_2226cac9",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1016373
      },
      "writtenOn": "2023-02-08T14:42:58Z",
      "side": 1,
      "message": "I think this commit will break the current behavior. \n\nI would not modify  _configure_vlan_trunk_vms function, it should work in the same way with internal or external resources. This would also minimize testing.\n\nFor external resources we have the file self.external_resources_data and everything is loaded into the server structure (i would not create a new one nfv_server)\n\nI think the only thing it is needed is to create the structure port_list_trunk properly, it should be something like the one below:\n\n\n\n [   \u003c\u003c\u003c--- eatch item is a server    \n   {\n     \u0027trunk_1\u0027: \u003c\u003c\u003c\u003c--- a dict with different trunks \n     {\n       \u0027subports\u0027: \n       [\n         {\n           \u0027port_id\u0027: \u00275e243dcb-a2ac-4432-a0ee-688322cc9db3\u0027, \u003c\u003c\u003c- subport port id\n           \u0027segmentation_id\u0027: \u0027147\u0027,                          \u003c\u003c\u003c- subport vlan\n           \u0027segmentation_type\u0027: \u0027vlan\u0027                        \u003c\u003c\u003c- always vlan         \n         }\n       ], \n       \u0027parent_port\u0027: \u00274752a25e-9f6c-4098-95ac-5ee256fcf7d3\u0027  \u003c\u003c\u003c- parent port id\n     }\n   }, \n   {\u0027trunk_1\u0027: \n     {\n       \u0027subports\u0027: \n       [\n         {\n           \u0027port_id\u0027: \u002767141153-51d7-4d42-b194-9130e1bb95be\u0027,\n           \u0027segmentation_id\u0027: \u0027147\u0027,\n           \u0027segmentation_type\u0027: \u0027vlan\u0027\n         }\n       ],\n       \u0027parent_port\u0027: \u002776bdaf77-d546-4c2c-aee8-698dfbe8208c\u0027\n     }\n   }\n ]\n",
      "revId": "2d9086582400268a28522ba725e14bfb9d6c4ba8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7046940d_8d885a1d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1018675
      },
      "writtenOn": "2023-02-08T15:09:19Z",
      "side": 1,
      "message": "I can try but I would rather use a discovery mechanism instead of writing everything in the file and being confined to a specific structure",
      "parentUuid": "4cdbf16d_2226cac9",
      "revId": "2d9086582400268a28522ba725e14bfb9d6c4ba8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f5301892_632b37c1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1018675
      },
      "writtenOn": "2023-03-20T16:03:45Z",
      "side": 1,
      "message": "after looking into it there is no support in the current code for using trunk port in the external file",
      "parentUuid": "7046940d_8d885a1d",
      "revId": "2d9086582400268a28522ba725e14bfb9d6c4ba8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1efde0ca_f7636b77",
        "filename": "nfv_tempest_plugin/tests/scenario/baremetal_manager.py",
        "patchSetId": 4
      },
      "lineNbr": 946,
      "author": {
        "id": 1016373
      },
      "writtenOn": "2023-02-08T14:42:58Z",
      "side": 1,
      "message": "in the current behaviour, it is a list of ports per server, so port_list_trunk[0] are ports for server0, port_list_trunk[1] are for server1, ...\nIt should be something like this:\n[{\u0027trunk_1\u0027: {\u0027subports\u0027: [{\u0027port_id\u0027: \u00275e243dcb-a2ac-4432-a0ee-688322cc9db3\u0027, \u0027segmentation_id\u0027: \u0027147\u0027, \u0027segmentation_type\u0027: \u0027vlan\u0027}], \u0027parent_port\u0027: \u00274752a25e-9f6c-4098-95ac-5ee256fcf7d3\u0027}}, {\u0027trunk_1\u0027: {\u0027subports\u0027: [{\u0027port_id\u0027: \u002767141153-51d7-4d42-b194-9130e1bb95be\u0027, \u0027segmentation_id\u0027: \u0027147\u0027, \u0027segmentation_type\u0027: \u0027vlan\u0027}], \u0027parent_port\u0027: \u002776bdaf77-d546-4c2c-aee8-698dfbe8208c\u0027}}]",
      "revId": "2d9086582400268a28522ba725e14bfb9d6c4ba8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "78dec46b_9596a6d1",
        "filename": "nfv_tempest_plugin/tests/scenario/baremetal_manager.py",
        "patchSetId": 4
      },
      "lineNbr": 946,
      "author": {
        "id": 1018675
      },
      "writtenOn": "2023-02-08T15:07:36Z",
      "side": 1,
      "message": "My idea was not to be strictly dependent on the structure, having that I do not have the trunk list with the external server (as far as I know) so I did what I could with the port list without having to map it to specific servers, I can map it to servers now but I think the structure of trunk_1 is bad and if we would like to do it like this we should at least use the servers name",
      "parentUuid": "1efde0ca_f7636b77",
      "revId": "2d9086582400268a28522ba725e14bfb9d6c4ba8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4cba56cc_cca1d0b0",
        "filename": "nfv_tempest_plugin/tests/scenario/baremetal_manager.py",
        "patchSetId": 4
      },
      "lineNbr": 946,
      "author": {
        "id": 1018675
      },
      "writtenOn": "2023-03-20T16:03:45Z",
      "side": 1,
      "message": "after looking into it there is no support in the current code for using trunk port in the external file",
      "parentUuid": "78dec46b_9596a6d1",
      "revId": "2d9086582400268a28522ba725e14bfb9d6c4ba8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8d5e77f1_abbf6322",
        "filename": "nfv_tempest_plugin/tests/scenario/baremetal_manager.py",
        "patchSetId": 4
      },
      "lineNbr": 1059,
      "author": {
        "id": 1016373
      },
      "writtenOn": "2023-02-08T14:42:58Z",
      "side": 1,
      "message": "why port_list_trunk[0]?\nIt contains trunk ports for each server, so 0 is for server0, 1 for server1, ....",
      "range": {
        "startLine": 1059,
        "startChar": 49,
        "endLine": 1059,
        "endChar": 50
      },
      "revId": "2d9086582400268a28522ba725e14bfb9d6c4ba8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "74396d6a_22b37a9b",
        "filename": "nfv_tempest_plugin/tests/scenario/baremetal_manager.py",
        "patchSetId": 4
      },
      "lineNbr": 1059,
      "author": {
        "id": 1018675
      },
      "writtenOn": "2023-02-08T15:07:36Z",
      "side": 1,
      "message": "from what I saw in the non-precreated VM the port_list_trunk is a list that contains a dictionary with the trunks like so\n[{\u0027trunk_1\u0027: {\u0027subports\u0027: [{\u0027port_id\u0027: \u0027f942ff7a-8e64-4fbd-8f12-8070533fae71\u0027, \u0027segmentation_id\u0027: \u0027136\u0027, \u0027segmentation_type\u0027: \u0027vlan\u0027}], \u0027parent_port\u0027: \u00273b86ca86-c954-41d6-9481-e04524d8e2c8\u0027}, \u0027trunk_2\u0027: {\u0027subports\u0027: [{\u0027port_id\u0027: \u0027a3c00846-db40-4dd6-bd1a-99ad03048db7\u0027, \u0027segmentation_id\u0027: \u0027137\u0027, \u0027segmentation_type\u0027: \u0027vlan\u0027}], \u0027parent_port\u0027: \u00279046449b-2775-48c2-a3f0-f82e36996021\u0027}}]\n\nthere is no [1] only [0]",
      "parentUuid": "8d5e77f1_abbf6322",
      "range": {
        "startLine": 1059,
        "startChar": 49,
        "endLine": 1059,
        "endChar": 50
      },
      "revId": "2d9086582400268a28522ba725e14bfb9d6c4ba8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5d72468a_016c1bca",
        "filename": "nfv_tempest_plugin/tests/scenario/baremetal_manager.py",
        "patchSetId": 4
      },
      "lineNbr": 1059,
      "author": {
        "id": 1016373
      },
      "writtenOn": "2023-03-21T13:28:43Z",
      "side": 1,
      "message": "I would not modify this function, I think it will break current testcases. Even if this would not be the case, this require many more testing to be sure that anything is broken\nIf it is not possible to have the parameters as the ones expected by this function, i would suggest to create a new function for configuring vlan trunk for the external resources.",
      "parentUuid": "74396d6a_22b37a9b",
      "range": {
        "startLine": 1059,
        "startChar": 49,
        "endLine": 1059,
        "endChar": 50
      },
      "revId": "2d9086582400268a28522ba725e14bfb9d6c4ba8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4e84366c_491860bd",
        "filename": "nfv_tempest_plugin/tests/scenario/baremetal_manager.py",
        "patchSetId": 4
      },
      "lineNbr": 1059,
      "author": {
        "id": 1018675
      },
      "writtenOn": "2023-03-21T14:02:50Z",
      "side": 1,
      "message": "ok, although I believe we will have to merge them eventually",
      "parentUuid": "5d72468a_016c1bca",
      "range": {
        "startLine": 1059,
        "startChar": 49,
        "endLine": 1059,
        "endChar": 50
      },
      "revId": "2d9086582400268a28522ba725e14bfb9d6c4ba8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0e95527f_5b1b21c9",
        "filename": "nfv_tempest_plugin/tests/scenario/baremetal_manager.py",
        "patchSetId": 4
      },
      "lineNbr": 1059,
      "author": {
        "id": 1018675
      },
      "writtenOn": "2023-04-03T17:44:30Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "4e84366c_491860bd",
      "range": {
        "startLine": 1059,
        "startChar": 49,
        "endLine": 1059,
        "endChar": 50
      },
      "revId": "2d9086582400268a28522ba725e14bfb9d6c4ba8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1efaad83_090b0194",
        "filename": "nfv_tempest_plugin/tests/scenario/baremetal_manager.py",
        "patchSetId": 4
      },
      "lineNbr": 1096,
      "author": {
        "id": 1016373
      },
      "writtenOn": "2023-02-08T14:42:58Z",
      "side": 1,
      "message": "why do we need this? i would continue using servers structure",
      "range": {
        "startLine": 1096,
        "startChar": 24,
        "endLine": 1096,
        "endChar": 34
      },
      "revId": "2d9086582400268a28522ba725e14bfb9d6c4ba8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e239ed44_a91f73d4",
        "filename": "nfv_tempest_plugin/tests/scenario/baremetal_manager.py",
        "patchSetId": 4
      },
      "lineNbr": 1096,
      "author": {
        "id": 1018675
      },
      "writtenOn": "2023-02-08T15:07:36Z",
      "side": 1,
      "message": "it is the same structure, I\u0027ve just renamed this var",
      "parentUuid": "1efaad83_090b0194",
      "range": {
        "startLine": 1096,
        "startChar": 24,
        "endLine": 1096,
        "endChar": 34
      },
      "revId": "2d9086582400268a28522ba725e14bfb9d6c4ba8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fd104cd5_77efd087",
        "filename": "nfv_tempest_plugin/tests/scenario/baremetal_manager.py",
        "patchSetId": 4
      },
      "lineNbr": 1096,
      "author": {
        "id": 1018675
      },
      "writtenOn": "2023-03-20T16:03:45Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e239ed44_a91f73d4",
      "range": {
        "startLine": 1096,
        "startChar": 24,
        "endLine": 1096,
        "endChar": 34
      },
      "revId": "2d9086582400268a28522ba725e14bfb9d6c4ba8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c37ace1c_edf1bf4c",
        "filename": "nfv_tempest_plugin/tests/scenario/test_nfv_offload.py",
        "patchSetId": 4
      },
      "lineNbr": 466,
      "author": {
        "id": 1016373
      },
      "writtenOn": "2023-02-08T14:42:58Z",
      "side": 1,
      "message": "i think we should always have this attribute. If \u0027provider:network_type\u0027 is not defined, the network will never be used. So, why do we define a network and we do not use it?",
      "range": {
        "startLine": 466,
        "startChar": 46,
        "endLine": 466,
        "endChar": 62
      },
      "revId": "2d9086582400268a28522ba725e14bfb9d6c4ba8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d785e5ab_41635237",
        "filename": "nfv_tempest_plugin/tests/scenario/test_nfv_offload.py",
        "patchSetId": 4
      },
      "lineNbr": 466,
      "author": {
        "id": 1018675
      },
      "writtenOn": "2023-02-08T15:07:36Z",
      "side": 1,
      "message": "1st if we want it to be used by other people outside our qe team this is the safe way to do it 2nd not sure why but I had networks (I guess the trunk nets) that didn\u0027t have a provider network",
      "parentUuid": "c37ace1c_edf1bf4c",
      "range": {
        "startLine": 466,
        "startChar": 46,
        "endLine": 466,
        "endChar": 62
      },
      "revId": "2d9086582400268a28522ba725e14bfb9d6c4ba8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "840e3aeb_b5567ac7",
        "filename": "nfv_tempest_plugin/tests/scenario/test_nfv_offload.py",
        "patchSetId": 4
      },
      "lineNbr": 466,
      "author": {
        "id": 1018675
      },
      "writtenOn": "2023-03-20T16:03:45Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d785e5ab_41635237",
      "range": {
        "startLine": 466,
        "startChar": 46,
        "endLine": 466,
        "endChar": 62
      },
      "revId": "2d9086582400268a28522ba725e14bfb9d6c4ba8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    }
  ]
}