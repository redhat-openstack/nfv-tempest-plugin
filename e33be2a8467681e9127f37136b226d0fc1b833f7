{
  "comments": [
    {
      "key": {
        "uuid": "4443258c_511895c4",
        "filename": "nfv_tempest_plugin/tests/scenario/test_nfv_derive_params_usecases.py",
        "patchSetId": 2
      },
      "lineNbr": 138,
      "author": {
        "id": 1008484
      },
      "writtenOn": "2019-07-01T11:50:44Z",
      "side": 1,
      "message": "Consider using list_comprehensions\n\nmem_info \u003d [ i.split(\u0027:\u0027)[1].strip()  for i in line_array ]\nsum ( [ int(i.split(\u0027 \u0027)[0])*1024 if i.split(\u0027 \u0027)[1].lower() \u003d\u003d \u0027mb\u0027 else int(i.split(\u0027 \u0027)[0])*1024*1024 for i in mem_info  ] )\n\nTwo fast lines",
      "range": {
        "startLine": 125,
        "startChar": 1,
        "endLine": 138,
        "endChar": 0
      },
      "revId": "e33be2a8467681e9127f37136b226d0fc1b833f7",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6db16cdf_f6bc138a",
        "filename": "nfv_tempest_plugin/tests/scenario/test_nfv_derive_params_usecases.py",
        "patchSetId": 2
      },
      "lineNbr": 138,
      "author": {
        "id": 1008672
      },
      "writtenOn": "2019-07-01T19:48:01Z",
      "side": 1,
      "message": "I disagree with Yariv suggestion.\nThe code should be readable.\n\nThe second line is not readable at all to me.\nWithout viewing the original code, I\u0027m unable to understand it.",
      "parentUuid": "4443258c_511895c4",
      "range": {
        "startLine": 125,
        "startChar": 1,
        "endLine": 138,
        "endChar": 0
      },
      "revId": "e33be2a8467681e9127f37136b226d0fc1b833f7",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f7115629_de8db7d1",
        "filename": "nfv_tempest_plugin/tests/scenario/test_nfv_derive_params_usecases.py",
        "patchSetId": 2
      },
      "lineNbr": 138,
      "author": {
        "id": 1015848
      },
      "writtenOn": "2019-07-04T07:26:16Z",
      "side": 1,
      "message": "@Maxim, Ack",
      "parentUuid": "6db16cdf_f6bc138a",
      "range": {
        "startLine": 125,
        "startChar": 1,
        "endLine": 138,
        "endChar": 0
      },
      "revId": "e33be2a8467681e9127f37136b226d0fc1b833f7",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ccd8300c_22506d8a",
        "filename": "nfv_tempest_plugin/tests/scenario/test_nfv_derive_params_usecases.py",
        "patchSetId": 2
      },
      "lineNbr": 138,
      "author": {
        "id": 1008484
      },
      "writtenOn": "2019-07-04T07:45:31Z",
      "side": 1,
      "message": "OK, lets postpone this discussion for different patch",
      "parentUuid": "6db16cdf_f6bc138a",
      "range": {
        "startLine": 125,
        "startChar": 1,
        "endLine": 138,
        "endChar": 0
      },
      "revId": "e33be2a8467681e9127f37136b226d0fc1b833f7",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d34a7866_8444ec68",
        "filename": "nfv_tempest_plugin/tests/scenario/test_nfv_derive_params_usecases.py",
        "patchSetId": 2
      },
      "lineNbr": 138,
      "author": {
        "id": 1015848
      },
      "writtenOn": "2019-07-04T08:03:46Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "ccd8300c_22506d8a",
      "range": {
        "startLine": 125,
        "startChar": 1,
        "endLine": 138,
        "endChar": 0
      },
      "revId": "e33be2a8467681e9127f37136b226d0fc1b833f7",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "781fbf56_766d57a8",
        "filename": "nfv_tempest_plugin/tests/scenario/test_nfv_derive_params_usecases.py",
        "patchSetId": 2
      },
      "lineNbr": 161,
      "author": {
        "id": 1008672
      },
      "writtenOn": "2019-07-02T13:01:06Z",
      "side": 1,
      "message": "Jagan,\n\nI\u0027m not sure the logic here is right.\nThe \"numa_nodes_threads\" variable loaded with the cores based on the numa node assignment.\nBut it loads randomly.\n\nFor example, this is my output:\nipdb\u003e numa_nodes_threads\n{0: [12, 32, 6, 26, 2, 22, 18, 38, 0, 20, 4, 24, 14, 34, 8, 28, 16, 36, 10, 30], 1: [11, 31, 3, 23, 19, 39, 13, 33, 7, 27, 15, 35, 17, 37, 5, 25, 9, 29, 1, 21]}\n\nAs a result at the end the cores that chosen to be promoted as the dpdk pmd cores are: \"11,12,31,32\".\nWhich mean that these are the first cores taken from the list of each numa node.\n\nFrom my personal logic, when I created the templates, I took the first cores available from the numa nodes. They are - \"2,22,3,23\". Otherwise it looks like a random choice.\n\nWhy not sort the order of the cores before taking the cores from there?\n\nWhat do you think?",
      "revId": "e33be2a8467681e9127f37136b226d0fc1b833f7",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "16ab5b1a_692b4eaa",
        "filename": "nfv_tempest_plugin/tests/scenario/test_nfv_derive_params_usecases.py",
        "patchSetId": 2
      },
      "lineNbr": 161,
      "author": {
        "id": 1015848
      },
      "writtenOn": "2019-07-04T07:26:16Z",
      "side": 1,
      "message": "Maxim,\nCurrently sorted at the end of the result of each parameters.",
      "parentUuid": "781fbf56_766d57a8",
      "revId": "e33be2a8467681e9127f37136b226d0fc1b833f7",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bbaef75a_55847363",
        "filename": "nfv_tempest_plugin/tests/scenario/test_nfv_derive_params_usecases.py",
        "patchSetId": 2
      },
      "lineNbr": 161,
      "author": {
        "id": 1008484
      },
      "writtenOn": "2019-07-04T07:45:31Z",
      "side": 1,
      "message": "@Jagan, i think the sort request is reasonable, correct?",
      "parentUuid": "781fbf56_766d57a8",
      "revId": "e33be2a8467681e9127f37136b226d0fc1b833f7",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "200f77c0_079d77c5",
        "filename": "nfv_tempest_plugin/tests/scenario/test_nfv_derive_params_usecases.py",
        "patchSetId": 2
      },
      "lineNbr": 161,
      "author": {
        "id": 1015848
      },
      "writtenOn": "2019-07-04T08:03:46Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "bbaef75a_55847363",
      "revId": "e33be2a8467681e9127f37136b226d0fc1b833f7",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e4cc8439_111b3a8c",
        "filename": "nfv_tempest_plugin/tests/scenario/test_nfv_derive_params_usecases.py",
        "patchSetId": 2
      },
      "lineNbr": 161,
      "author": {
        "id": 1008672
      },
      "writtenOn": "2019-07-04T08:14:39Z",
      "side": 1,
      "message": "Jagan,\n\nYou are doing sort on the output result which is fine, but I mean something completely different.\n\nI mean that the cpus variable holds the cpus in random order so the first core from the numa node 1 is 11 and not 3. And from numa node 0 is 12 and not 2.\n\nAs a human, I\u0027m tending to take the first available cores in order which are 2,3 and their siblings. As a result, the test will fail.\n\nThe cpus variable should hold the cpus number by order.",
      "parentUuid": "bbaef75a_55847363",
      "revId": "e33be2a8467681e9127f37136b226d0fc1b833f7",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5f67fb9e_f06d5805",
        "filename": "nfv_tempest_plugin/tests/scenario/test_nfv_derive_params_usecases.py",
        "patchSetId": 2
      },
      "lineNbr": 161,
      "author": {
        "id": 1015848
      },
      "writtenOn": "2019-07-04T10:19:19Z",
      "side": 1,
      "message": "Maxim,\nIn dpdk core list logic, sorting order is not required and we can pick any core threads randomly for each numa except first core.\nLogic should be same here which is already used in ease of deployment feature.\nIf we update here, need to place a patch in ease of deployment code too.",
      "parentUuid": "e4cc8439_111b3a8c",
      "revId": "e33be2a8467681e9127f37136b226d0fc1b833f7",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "47dce558_87cd4ec6",
        "filename": "nfv_tempest_plugin/tests/scenario/test_nfv_derive_params_usecases.py",
        "patchSetId": 2
      },
      "lineNbr": 161,
      "author": {
        "id": 1008484
      },
      "writtenOn": "2019-07-04T10:37:21Z",
      "side": 1,
      "message": "@Maxim\n\nThe sort is important only for  # Gets host cpus\nSo, over there starts in line 176 below\nsee line 188:\nfor numa_node in sorted(numa_nodes_threads.keys()):",
      "parentUuid": "5f67fb9e_f06d5805",
      "revId": "e33be2a8467681e9127f37136b226d0fc1b833f7",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4137bf6e_3cdf08cc",
        "filename": "nfv_tempest_plugin/tests/scenario/test_nfv_derive_params_usecases.py",
        "patchSetId": 2
      },
      "lineNbr": 287,
      "author": {
        "id": 1008484
      },
      "writtenOn": "2019-07-01T11:50:44Z",
      "side": 1,
      "message": "See above. recommend to use list comprehensions, shorted",
      "range": {
        "startLine": 278,
        "startChar": 5,
        "endLine": 287,
        "endChar": 39
      },
      "revId": "e33be2a8467681e9127f37136b226d0fc1b833f7",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c6319751_e5283adb",
        "filename": "nfv_tempest_plugin/tests/scenario/test_nfv_derive_params_usecases.py",
        "patchSetId": 2
      },
      "lineNbr": 287,
      "author": {
        "id": 1008672
      },
      "writtenOn": "2019-07-02T13:01:06Z",
      "side": 1,
      "message": "Again, as my above reply to the previous comment.\nThe code should be readable.\n\nIf the change of the code to one line makes it unreadable, it should not be done.",
      "parentUuid": "4137bf6e_3cdf08cc",
      "range": {
        "startLine": 278,
        "startChar": 5,
        "endLine": 287,
        "endChar": 39
      },
      "revId": "e33be2a8467681e9127f37136b226d0fc1b833f7",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3bd7eece_db0557fd",
        "filename": "nfv_tempest_plugin/tests/scenario/test_nfv_derive_params_usecases.py",
        "patchSetId": 2
      },
      "lineNbr": 287,
      "author": {
        "id": 1015848
      },
      "writtenOn": "2019-07-04T07:26:16Z",
      "side": 1,
      "message": "Maxim, Ack",
      "parentUuid": "c6319751_e5283adb",
      "range": {
        "startLine": 278,
        "startChar": 5,
        "endLine": 287,
        "endChar": 39
      },
      "revId": "e33be2a8467681e9127f37136b226d0fc1b833f7",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5ff361db_56e68642",
        "filename": "nfv_tempest_plugin/tests/scenario/test_nfv_derive_params_usecases.py",
        "patchSetId": 2
      },
      "lineNbr": 287,
      "author": {
        "id": 1008484
      },
      "writtenOn": "2019-07-04T07:45:31Z",
      "side": 1,
      "message": "OK, lets postpone this discussion for different patch",
      "parentUuid": "c6319751_e5283adb",
      "range": {
        "startLine": 278,
        "startChar": 5,
        "endLine": 287,
        "endChar": 39
      },
      "revId": "e33be2a8467681e9127f37136b226d0fc1b833f7",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "20db8205_266e4607",
        "filename": "nfv_tempest_plugin/tests/scenario/test_nfv_derive_params_usecases.py",
        "patchSetId": 2
      },
      "lineNbr": 287,
      "author": {
        "id": 1015848
      },
      "writtenOn": "2019-07-04T08:03:46Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "5ff361db_56e68642",
      "range": {
        "startLine": 278,
        "startChar": 5,
        "endLine": 287,
        "endChar": 39
      },
      "revId": "e33be2a8467681e9127f37136b226d0fc1b833f7",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4ed51574_cd65f70a",
        "filename": "nfv_tempest_plugin/tests/scenario/test_nfv_derive_params_usecases.py",
        "patchSetId": 2
      },
      "lineNbr": 343,
      "author": {
        "id": 1008672
      },
      "writtenOn": "2019-07-02T13:01:06Z",
      "side": 1,
      "message": "Hi,\n\nThe dpdk initialization status command is not available in 13 as the ovs version we are using is 2.9 and the initialization is supported from version 2.10.\nhttps://www.mail-archive.com/ovs-dev@openvswitch.org/msg22478.html\n\nNeed some workaround for this.",
      "range": {
        "startLine": 343,
        "startChar": 16,
        "endLine": 343,
        "endChar": 66
      },
      "revId": "e33be2a8467681e9127f37136b226d0fc1b833f7",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fcbfa638_dcdbf9af",
        "filename": "nfv_tempest_plugin/tests/scenario/test_nfv_derive_params_usecases.py",
        "patchSetId": 2
      },
      "lineNbr": 343,
      "author": {
        "id": 1015848
      },
      "writtenOn": "2019-07-04T07:26:16Z",
      "side": 1,
      "message": "Maxim, Agree and let it merge and i will place another patch to update the code for workaround.",
      "parentUuid": "4ed51574_cd65f70a",
      "range": {
        "startLine": 343,
        "startChar": 16,
        "endLine": 343,
        "endChar": 66
      },
      "revId": "e33be2a8467681e9127f37136b226d0fc1b833f7",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "04641023_4d0ee455",
        "filename": "nfv_tempest_plugin/tests/scenario/test_nfv_derive_params_usecases.py",
        "patchSetId": 2
      },
      "lineNbr": 343,
      "author": {
        "id": 1008484
      },
      "writtenOn": "2019-07-04T07:45:31Z",
      "side": 1,
      "message": "@jagan this is a a must, we need to brake this test in 13.\nYes, we have W/A for that,\nI have this idea below, but the /etc/puppet/hieradata/service_names.json\" only without ovs-command is OK also\novs-vswitchd --version | awk \u0027{ if ($1 \u003d\u003d \"DPDK\") print $1; }\u0027\nor \novs-vswitchd --version | awk \u0027{ if ($1 \u003d\u003d \"DPDK\") print 1; }\u0027 will return 1 else 0?",
      "parentUuid": "4ed51574_cd65f70a",
      "range": {
        "startLine": 343,
        "startChar": 16,
        "endLine": 343,
        "endChar": 66
      },
      "revId": "e33be2a8467681e9127f37136b226d0fc1b833f7",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c961f9ad_49d31738",
        "filename": "nfv_tempest_plugin/tests/scenario/test_nfv_derive_params_usecases.py",
        "patchSetId": 2
      },
      "lineNbr": 343,
      "author": {
        "id": 1015848
      },
      "writtenOn": "2019-07-04T08:03:46Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "04641023_4d0ee455",
      "range": {
        "startLine": 343,
        "startChar": 16,
        "endLine": 343,
        "endChar": 66
      },
      "revId": "e33be2a8467681e9127f37136b226d0fc1b833f7",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "804d7884_9344b6d7",
        "filename": "nfv_tempest_plugin/tests/scenario/test_nfv_derive_params_usecases.py",
        "patchSetId": 2
      },
      "lineNbr": 343,
      "author": {
        "id": 1008672
      },
      "writtenOn": "2019-07-04T08:14:39Z",
      "side": 1,
      "message": "I Yariv is right.\nThe dpdk verification could be done in a different way to support all versions at once.",
      "parentUuid": "04641023_4d0ee455",
      "range": {
        "startLine": 343,
        "startChar": 16,
        "endLine": 343,
        "endChar": 66
      },
      "revId": "e33be2a8467681e9127f37136b226d0fc1b833f7",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "27bd31ce_ccf059aa",
        "filename": "nfv_tempest_plugin/tests/scenario/test_nfv_derive_params_usecases.py",
        "patchSetId": 2
      },
      "lineNbr": 343,
      "author": {
        "id": 1015848
      },
      "writtenOn": "2019-07-04T10:19:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "804d7884_9344b6d7",
      "range": {
        "startLine": 343,
        "startChar": 16,
        "endLine": 343,
        "endChar": 66
      },
      "revId": "e33be2a8467681e9127f37136b226d0fc1b833f7",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "613dde85_8b1691d4",
        "filename": "nfv_tempest_plugin/tests/scenario/test_nfv_derive_params_usecases.py",
        "patchSetId": 2
      },
      "lineNbr": 391,
      "author": {
        "id": 1008484
      },
      "writtenOn": "2019-07-01T11:50:44Z",
      "side": 1,
      "message": "Consider working with jsnutils\n sriovconfig \u003d \u0027[{\"IsolCpusList\":{\"action\": \"command\",\"cmd\": \"(pwd)\"}},{\"KernelArgs\":{\"action\": \"command\",\"cmd\": \"udo cat /proc/cmdline\"}}]\u0027\n\nPlease refer this parameter,\nOnce we have changes we w/a with configuration change",
      "range": {
        "startLine": 391,
        "startChar": 8,
        "endLine": 391,
        "endChar": 24
      },
      "revId": "e33be2a8467681e9127f37136b226d0fc1b833f7",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ed9a8024_cdfec4b0",
        "filename": "nfv_tempest_plugin/tests/scenario/test_nfv_derive_params_usecases.py",
        "patchSetId": 2
      },
      "lineNbr": 391,
      "author": {
        "id": 1015848
      },
      "writtenOn": "2019-07-04T07:26:16Z",
      "side": 1,
      "message": "Yariv, Agree and will work on another patch. let it merge.",
      "parentUuid": "613dde85_8b1691d4",
      "range": {
        "startLine": 391,
        "startChar": 8,
        "endLine": 391,
        "endChar": 24
      },
      "revId": "e33be2a8467681e9127f37136b226d0fc1b833f7",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0d857ba5_b3f62c00",
        "filename": "nfv_tempest_plugin/tests/scenario/test_nfv_derive_params_usecases.py",
        "patchSetId": 2
      },
      "lineNbr": 391,
      "author": {
        "id": 1008484
      },
      "writtenOn": "2019-07-04T07:45:31Z",
      "side": 1,
      "message": "lets postpone it to different patch",
      "parentUuid": "613dde85_8b1691d4",
      "range": {
        "startLine": 391,
        "startChar": 8,
        "endLine": 391,
        "endChar": 24
      },
      "revId": "e33be2a8467681e9127f37136b226d0fc1b833f7",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "15225fa8_c98d2043",
        "filename": "nfv_tempest_plugin/tests/scenario/test_nfv_derive_params_usecases.py",
        "patchSetId": 2
      },
      "lineNbr": 391,
      "author": {
        "id": 1015848
      },
      "writtenOn": "2019-07-04T08:03:46Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "0d857ba5_b3f62c00",
      "range": {
        "startLine": 391,
        "startChar": 8,
        "endLine": 391,
        "endChar": 24
      },
      "revId": "e33be2a8467681e9127f37136b226d0fc1b833f7",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    }
  ]
}